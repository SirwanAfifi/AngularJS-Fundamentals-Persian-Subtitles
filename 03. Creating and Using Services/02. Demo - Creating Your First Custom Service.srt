1
00:00:01,000 --> 00:00:06,000
‫بسیار خب، پروژه رو از جایی که Joe رها کرد شروع خواهیم کرد. بنابراین،
‫همانطور که می‌بینید یک کنترلر با نام

2
00:00:06,000 --> 00:00:14,000
‫EditEventController و یک کنترلر با نام EventController و همچنین صفحاتی
‫که برای این کنترلرها ساخته شده است را داریم.

3
00:00:14,000 --> 00:00:20,000
‫اگر صفحه را ریفرش کنم همانطور که می‌بینید صفحات عملکرد خودشان
‫را انجام می‌دهند.

4
00:00:20,000 --> 00:00:26,000
‫اجازه دهید به کنترلر EventController نگاهی بیندازیم. همانطور که مشاهده می‌کنید
‫تمام دادها در اینجا تعریف شده اند.

5
00:00:26,000 --> 00:00:30,000
‫قبلا از انجام هر کاری به پارامتر scope توجه کنید

6
00:00:30,000 --> 00:00:32,000
‫که داخل کنترلر EventController پاس داده می‌شود.

7
00:00:32,000 --> 00:00:39,000
‫این در واقع یک سرویس انگولار است و همانطور که مشاهده می‌کنید
‫در داخل کنترلر تنها با تزریق

8
00:00:39,000 --> 00:00:44,000
‫و تعیین آن به عنوان پارامتر EventController می‌توانیم از آن استفاده کنیم

9
00:00:44,000 --> 00:00:51,000
‫این چگونگی عملگرد تزریق وابستگی‌ها در انگولار است. تنها سرویسی
‫را که می‌خواهید به عنوان

10
00:00:51,000 --> 00:00:55,000
‫پارامتر ورودی کنترلر تعیین کنید، سپس انگولار آن را داخل کنترلر تزریق خواهد کرد.

11
00:00:55,000 --> 00:00:59,000
‫خب، اجازه دهید این داده‌ها را خارج از کنترلر و داخل یک سرویس تعریف کنیم.

12
00:00:59,000 --> 00:01:06,000
‫در واقع این داده‌ها توسط یک درخواست ای جکس دریافت خواهند شد،
‫اما فعلاً اجازه دهید آن را خارج از اینجا و داخل یک

13
00:01:06,000 --> 00:01:11,000
‫سرویس تعریف کنیم، خب نحوه تعریف سرویس‌ها را خواهیم دید.

14
00:01:11,000 --> 00:01:19,000
‫بنابراین با ایجاد یک دایرکتوری برای سرویس‌ها و یک فایل جاوااسکریپت جدید

15
00:01:19,000 --> 00:01:31,000
‫برای سرویس EventData شروع خواهیم کرد و یک سرویس را با این
‫نام ایجاد میکنیم.

16
00:01:31,000 --> 00:01:40,000
‫اکنون، توجه داشته باشید که از علامت $ استفاده نکردم، درحالیکه سرویس‌های انگولار
‫از یک علامت $ استفاده می‌کنند.

17
00:01:40,000 --> 00:01:47,000
‫که یک قرارداد برای سرویس‌های توکار انگولار است و بهتر است از $

18
00:01:47,000 --> 00:01:52,000
‫برای سرویس‌های خودتان استفاده نکنید زیرا ممکن است به سرویس‌های برسید
‫که سرویس‌های توکار انگولار را

19
00:01:52,000 --> 00:01:59,000
‫بازنویسی (override) می‌کنند. بنابراین، بدون علامت $ سرویس هایتان را ایجاد کنید.

20
00:01:59,000 --> 00:02:03,000
‫همانطور که مشاهده میکنید تعریف سرویس با نام eventData

21
00:02:03,000 --> 00:02:08,000
‫با فراخوانی متد factory از ماژول eventsApp ایجاد میکنم.

22
00:02:08,000 --> 00:02:17,000
‫همانطور که می‌دانید Joe این ماژول رو قبلاً ایجاد کرده است و نامش را eventsApp
‫گذاشته است که یک متغییر می‌باشد

23
00:02:17,000 --> 00:02:25,000
‫چون در حوزه window در دسترس است. بنابراین در اینجا با آن دسترسی دارم

24
00:02:25,000 --> 00:02:34,000
‫اولین پارامتر این متد factory نام سرویس است و یک تابع که

25
00:02:34,000 --> 00:02:38,000
‫یک شیء را در خروجی که همان سرویس است برمیگرداند.

26
00:02:38,000 --> 00:02:45,000
‫خب، نام سرویس eventData است. اجازه دهید این داده‌ها را از اینجا بردارم.

27
00:02:45,000 --> 00:02:54,000
‫خب در اینجا یک خطا داریم، سرویس eventData قرار است یک
‫پراپرتی با نام event داشته باشد.

28
00:02:54,000 --> 00:02:59,000
‫داخل این پراپرتی eventData قرار می‌گیرد.

29
00:02:59,000 --> 00:03:05,000
‫در واقع این سرویس زیاد جالب به نظر نمی‌رسد. اغلب اوقات سرویس‌ها ‫متدهایی درون خود دارند، که در اینجا

30
00:03:05,000 --> 00:03:09,000
‫از این event برای نگهداری داده‌ها استفاده می‌کنم.

31
00:03:09,000 --> 00:03:17,000
‫اکنون، در داخل کنترلرم می‌تونم eventData را تزریق کنم و سپس

32
00:03:17,000 --> 00:03:24,000
‫$scope. event را برابر با eventData. event قرار میدهم.

33
00:03:24,000 --> 00:03:34,000
‫اگر برنامه را اجرا کنم یک خطا دریافت میکنم. بنابراین، داده‌ها نمایش داده نمی‌شوند
‫اگر به کنسول مراجعه کنیم

34
00:03:34,000 --> 00:03:40,000
‫خواهیم دید که پیام unknown provider the eventDataProvider نمایش داده شده است.

35
00:03:40,000 --> 00:03:47,000
‫اگرچه سرویس را ایجاد کرده ام اما هنوز آن را به صفحه اضافه نکرده ام.

36
00:03:47,000 --> 00:03:57,000
‫بنابراین، اگر به صفحه EventDetails بریم و در اینجا سرویس را اضافه کنیم

37
00:03:57,000 --> 00:04:05,000
‫اکنون داده‌ها نمایش داده می‌شوند.

38
00:04:05,000 --> 00:04:15,000
‫خب، اکنون $scope. event فراخوانی می‌شود و کنترلر داده‌ها را

39
00:04:15,000 --> 00:04:25,000
‫از سرویس eventData دریافت میکند. اگر دوباره به سرویس eventData بازگردم
‫همانطور که به خاطر دارید تنها با فراخوانی

40
00:04:25,000 --> 00:04:29,000
‫متد factory مربوط به eventsApp سرویس را ایجاد کردیم.

41
00:04:29,000 --> 00:04:35,000
‫خب این نحوه ساخت یک سرویس است. به خاطر دارید قبلاً گفتیم که یک سرویس انگولار

42
00:04:35,000 --> 00:04:42,000
‫با دیگر سرویس‌ها و یا اشیاء تفاوت دارد. تنها تفاوت ریجستر کردن سرویس می‌باشد.

43
00:04:42,000 --> 00:04:47,000
‫و روش ریجستر کردن سرویس با انگولار توسط متد factory انجام می‌پذیرد.

44
00:04:47,000 --> 00:04:52,000
‫خب این نحوه ساخت سرویس‌ها بود.

