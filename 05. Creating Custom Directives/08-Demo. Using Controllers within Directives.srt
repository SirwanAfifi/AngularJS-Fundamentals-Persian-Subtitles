1
00:00:00,500 --> 00:00:04,500
‫بسیار خوب، اکنون که با چگونگی ایجاد انواع مختلف دایرکتیوها آشنا شده اید،
‫اجازه دهید نگاهی به دیگر پراپرتی‌ها که در یک دایرکتیو می‌توان استفاده کرد داشته باشیم

2
00:00:04,500 --> 00:00:10,500
‫اولین مورد پراپرتی controller می‌باشد.

3
00:00:10,500 --> 00:00:14,500
‫قبل از آن، اجازه دهید نگاهی به دایرکتیو upvote که قبلاً ایجاد کردیم بیندازیم

4
00:00:14,500 --> 00:00:19,500
‫و نحوهٔ فراخوانی متدها را داخل کنترلر والد، با هم مرور کنیم.

5
00:00:19,500 --> 00:00:24,500
‫خب، همانطور که بخاطر دارید این ویژگی upvote را در دایرکتیو upvote مان داشتیم

6
00:00:24,500 --> 00:00:31,500
‫که upVoteSession را داخل کنترلر فراخوانی می‌کرد. اکنون، این یک کنترلر برای این view می‌باشد

7
00:00:31,500 --> 00:00:40,500
‫این یک کنترلر والدٍ دایرکتیو می‌باشد، یعنی خودش یک متد داخل دایرکتیو نیست.

8
00:00:40,500 --> 00:00:48,500
‫اگر به صفحه HTML آن برویم خواهید دید که ng-click آن متد upvote را فراخوانی می‌کند

9
00:00:48,500 --> 00:00:56,500
‫در واقع متد upvote را درون isolated scope فراخوانی می‌کند، که به ویژگی

10
00:00:56,500 --> 00:01:03,500
‫upvote آن در دایرکتیو نگاشت داشته شده است و در نهایت متد
‫upVoteSession را درون کنترلر فراخوانی می‌کند.

11
00:01:03,500 --> 00:01:07,500
‫خب، این یک روش عالی برای ارتباط دایرکتیوتان با کنترلری

12
00:01:07,500 --> 00:01:10,500
‫که داخل صفحه دایرکتیو را میزبانی می‌کند، می‌باشد.

13
00:01:10,500 --> 00:01:15,500
‫اما، چه می‌شود اگر بخواهید یک دایرکتیو self-contained داشته باشید؟
‫یعنی دایرکتیوی که درون خودش یک کنترلر دارد.

14
00:01:15,500 --> 00:01:22,500
‫در اینجا پراپرتی controller وارد عمل می‌شود. برای اینکار قبلاً صفحه با نام
‫DirectiveControllerSample ایجاد کرده‌ام،

15
00:01:22,500 --> 00:01:29,500
‫که در حال حاضر خالی می‌باشد. خب، در اینجا چیزی وجود ندارد.

16
00:01:29,500 --> 00:01:35,500
‫همانطور که مشاهده میکنید، ارجاعی به drirective/greeting. js داریم
‫در واقع فعلاً چیزی داخل آن نیست

17
00:01:35,500 --> 00:01:39,500
‫به همین دلیل است که صفحه خالی نمایش داده میشود.

18
00:01:39,500 --> 00:01:47,500
‫خب، در واقع این یک پوسته برای دایرکتیو greeting می‌باشد. اکنون می‌خواهیم یک
‫تمپلیت برای این دایرکتیو داشته باشیم.

19
00:01:47,500 --> 00:01:57,500
‫خب، یک قالب ساده دارای یک دکمه که وقتی بر روی آن کلیک میشود، متدSayHello
‫را فراخوانی میکند.

20
00:01:57,500 --> 00:02:07,500
‫اکنون اگر آن را اجرا کنیم، ابتدا اجازه دهید یک دایرکتیو در صفحه ایجاد کنیم.

21
00:02:07,500 --> 00:02:16,500
‫همانطور که به یاد دارید دایرکتیو محدود به عناصر بود، سپس می‌توانم
‫از عنصر greeting ‫استفاده کنم. اجازه دهید خروجی را ببنیم.

22
00:02:16,500 --> 00:02:22,500
‫خب، یک دکمه Say Hello داریم که وقتی بر روی آن کلیک کنیم کاری انجام نمیدهد
‫زیرا اتصالات آن را انجام نداده‌ایم.

23
00:02:22,500 --> 00:02:28,500
‫می‌تونستیم در این مرحله Say Hello را درون کنترلری در این صفحه قرار دهیم،
‫اما نمی‌خواهیم چنین کاری انجام دهیم.

24
00:02:28,500 --> 00:02:36,500
‫می‌خواهم نشان دهم که چطور می‌توانیم یک کنترلر که داخل دایرکتیو ایجاد شده است
‫را داشته باشیم در واقع می‌توانید عملکرد یک دایرکتیو را مخفی کنید

25
00:02:40,500 --> 00:02:43,500
‫در این حالت کلاً درون دایرکتیو به صورت self-contained عمل می‌کند.

26
00:02:43,500 --> 00:02:55,500
‫خب، اکنون درون دایرکتیومان یک کنترلر ایجاد می‌کنیم.

27
00:02:55,500 --> 00:03:00,500
‫خب، اکنون یک کنترلر داخل دایرکتیومان داریم که دارای یک متد sayHello می‌باشد.

28
00:03:00,500 --> 00:03:09,500
‫اجازه دهید ببنیم در اینجا چه اتفاقی می‌افتد. اگر بر روی این دکمه کلیک کنم،
‫یک پیام با محتوای say hello نمایش داده می‌شود.

29
00:03:09,500 --> 00:03:16,500
‫بنابراین، همانطور که مشاهده می‌کنید، به راحتی میتوانید مدل و کدها را توسط

30
00:03:16,500 --> 00:03:19,500
‫این کنترلر درون یک دایرکتیو قرار دهید سپس درون تمپلت‌تان از آن استفاده کنید

31
00:03:19,500 --> 00:03:23,500
‫البته، اگر از templateUrl استفاده می‌کردیم همینکار را برایمان انجام میداد،

32
00:03:23,500 --> 00:03:27,500
‫اما برای سادگی بیشتر فعلاً از template استفاده می‌کنم.

33
00:03:27,500 --> 00:03:33,500
‫اکنون قبل از اینکه بحث استفاده از کنترلرها داخل دایرکتیوها را تمام کنیم،
‫باید اشاره کنم که

34
00:03:33,500 --> 00:03:38,500
‫روش‌های مختلفی برای تعریف کنترلر داخل دایرکتیو وجود دارد.

35
00:03:38,500 --> 00:03:45,500
‫روشی که در اینجا آموزش دادیم به صورت inline می‌باشد،
‫اما در شرایطی اگر بخواهید کنترلر را خارج از

36
00:03:45,500 --> 00:03:51,500
‫دایرکتیوتان تعریف کنید چطور؟

37
00:03:51,500 --> 00:03:54,500
‫اجازه دهید این روش را با هم بررسی کنیم.

38
00:03:54,500 --> 00:04:12,500
‫برای اینکار این تابع را از اینجا بر میداریم و در واقع یک کنترلر ایجاد می‌کنیم.

39
00:04:12,500 --> 00:04:20,500
‫خب در اینجا این کنترلر GreetingController را تعریف کرده‌ام که یک تابع با نام
‫sayHello درون خود دارد

40
00:04:20,500 --> 00:04:23,500
‫و مجبور نیستم که داخل دایرکتیو آن را تعریف کنم.

41
00:04:23,500 --> 00:04:27,500
‫می‌توانستم همانند دیگر کنترلرها در فایل مخصوص به خود آن را ایجاد کنم،

42
00:04:27,500 --> 00:04:30,500
‫اما برای سادگی کار در اینجا آن را قرار می‌دهم.

43
00:04:30,500 --> 00:04:35,500
‫همچنین، می‌توانیم توسط نام کنترلر آن را مشخص کنیم.

44
00:04:35,500 --> 00:04:39,500
‫اکنون یک کنترلر با نام GreetingController ایجاد کرده‌ام و درون دایرکتیوم

45
00:04:39,500 --> 00:04:43,500
‫به این صورت از آن استفاده می‌کنم.

46
00:04:43,500 --> 00:04:48,500
‫خب، همانطور که اشاره کرده می‌توانست درون فایل خودش به صورت جدا تعریف شود.

47
00:04:48,500 --> 00:04:53,500
‫اکنون اگر صفحه را بروزرسانی کنیم، همانطور که مشاهده می‌کنید به خوبی کار می‌کند،

48
00:04:53,500 --> 00:04:58,500
‫با این تفاوت که اکنون کنترلر در بیرون از دایرکتیو تعریف شده است.

49
00:04:58,500 --> 00:05:03,500
‫اما چه می‌شود اگر نخواهیم نام کنترلر را داخل دایرکتیو تعریف کنیم؟

50
00:05:03,500 --> 00:05:10,500
‫ممکن است بخواهید کنترلرتان به نحوهٔ داینامیک باشد

51
00:05:10,500 --> 00:05:19,500
‫و بیرون از خود دایرکتیو تعریف شود. برای اینکار، یک علامت @ را به جای نام آن قرار می‌دهیم

52
00:05:19,500 --> 00:05:27,500
‫سپس برای نام کنترلر از این نام استفاده می‌کنیم که در واقع می‌تواند هر نامی باشد.

53
00:05:27,500 --> 00:05:35,500
‫این نام به نام attribute اشاره می‌کند

54
00:05:35,500 --> 00:05:49,500
‫درون HTML به این صورت نام کنترلر را می‌نویسیم.

55
00:05:49,500 --> 00:05:57,500
‫اکنون درون HTML می‌توانیم تعیین کنیم که از چه کنترلری می‌خواهیم استفاده کنیم.

56
00:05:57,500 --> 00:06:03,500
‫همانطور که مشاهده می‌کنید خروجی نیز به خوبی کار می‌کند.

57
00:06:03,500 --> 00:06:08,500
‫در نظر داشته باشید که روش‌های مختلفی برای تعیین

58
00:06:08,500 --> 00:06:12,500
‫کنترلر و تعریف آن درون یک دایرکتیو وجود دارد.

59
00:06:12,500 --> 00:06:17,500
‫در قسمت بعدی، نحوهٔ ارتباط دایرکتیوها را با یکدیگر توسط یک کنترلر مشترک
‫بررسی می‌کنیم.

