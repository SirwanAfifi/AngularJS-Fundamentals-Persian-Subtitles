1
00:00:00,500 --> 00:00:05,500
‫خب، اجازه دهید نگاهی بر دایرکتیوی که تغییرات مدل را ردیابی میکند داشته باشیم.

2
00:00:05,500 --> 00:00:12,500
‫برای اینکار صفحه editProfile را مشاهده می‌کنیم. اگر به یاد داشته باشید،
‫فیلد ایمیل ‫در صفحه editProfile

3
00:00:12,500 --> 00:00:19,500
‫وابسته به تصویر gravatar می‌باشد، یعنی اگر ایمیلم را در اینجا وارد کنم،

4
00:00:19,500 --> 00:00:23,500
‫gravatar مربوط به ایمیل به روزرسانی می‌شود.

5
00:00:23,500 --> 00:00:30,500
‫خب، اجازه دهید آن را مقداری تغییر دهیم، اگر به یاد داشته باشید،

6
00:00:30,500 --> 00:00:37,500
‫تنها یک تگ image داشتیم و از ویژگی ng-src برای بازیابی آدرس gravatar
‫از کنترلر استفاده می‌کردیم

7
00:00:37,500 --> 00:00:45,500
‫اینکار را با فراخوانی متد getGravatarUrl انجام می‌دادیم.

8
00:00:45,500 --> 00:00:47,500
‫خب، اجازه دهید اینکار را با استفاده از یک دایرکتیو انجام دهیم.

9
00:00:47,500 --> 00:00:51,500
‫در واقع می‌خواهم به این صورت از آن استفاده کنم.

10
00:00:51,500 --> 00:01:01,500
‫به جای یک تگ img از تگ gravatar استفاده میکنم سپس توسط ویژگی email
‫ایمیل را به آن بایند میکنم.

11
00:01:01,500 --> 00:01:06,500
‫خب، این عنصر جدید ما خواهد بود.

12
00:01:06,500 --> 00:01:13,500
‫اجازه دهید دایرکتیو جدیدمان را ایجاد کنیم.

13
00:01:13,500 --> 00:01:21,500
‫این دایرکتیو قرار است از یک سرویس استفاده کند، بنابراین آن در اینجا
‫اضافه میکنیم.

14
00:01:21,500 --> 00:01:32,500
‫خب، این قالب دایرکتیومان است و این هم عنصری است که میخواهیم
‫آن را به یک عنصر restric کنیم.

15
00:01:32,500 --> 00:01:42,500
‫تمپلیت نیز تنها یک تگ ساده تصویر است.

16
00:01:42,500 --> 00:01:48,500
‫خب، replace را به true مقداردهی میکنیم. اکنون، اگر به یاد داشته باشید
‫آدرس ایمیل به عنوان یک attribute به دایرکتیو

17
00:01:48,500 --> 00:01:57,500
‫gravatar پاس داده می‌شود همچنین برای مشاهده آن از
‫تابع link استفاده می‌کنیم.

18
00:01:57,500 --> 00:02:02,500
‫همانطور که به یاد دارید عنصر سوم تابع attributes می‌باشد.

19
00:02:02,500 --> 00:02:07,500
‫خب، پارامتر attributes تعدادی متد داخل خود دارد.

20
00:02:07,500 --> 00:02:15,500
‫اولین مورد آن که می‌خواهیم از آن استفاده کنیم observe می‌باشد
‫خب می‌خواهیم بگوئیم که ویژگی email را برای ما ردیابی کن

21
00:02:15,500 --> 00:02:24,500
‫متد observe دو پارامتر را می‌پذیرد، نام ویژگی که قرار است مشاهده شود
‫و همچنین یک تابع که زمانیکه مقدار آن تغییر کرد فراخوانی شود

22
00:02:24,500 --> 00:02:29,500
‫این تابع نیز یک مقدار جدید و یک مقدار قبلی را از ورودی می‌گیرد.

23
00:02:29,500 --> 00:02:40,500
‫همچنین در اینجا این شرط را بررسی می‌کنیم، زمانیکه مقدار تغییر کرد،
‫سورس ‫عنصر تصویر را تغییر می‌دهیم.

24
00:02:40,500 --> 00:02:46,500
‫اکنون به خاطر داشته باشید، عنصر image قرار است با عنصر gravatar
‫جایگزین شود بنابراین وقتی که سورس را در اینجا ست می‌کنیم

25
00:02:46,500 --> 00:02:52,500
‫در واقع سورس عنصر image جایگزین شده را ست می‌کنیم، نه عنصر gravatar.

26
00:02:52,500 --> 00:03:00,500
‫همچنین از gravatarUrlBuilder برای تولید آن مقدار استفاده می‌کنیم.

27
00:03:00,500 --> 00:03:08,500
‫سپس مقدار جدید را پاس خواهیم داد. خب، هر وقت
‫مقدار ویژگی email تغییر کند

28
00:03:08,500 --> 00:03:16,500
‫سورس ویژگی image را به آدرس برگردانده شده توسط متد
‫gravatarUrlBuilder مقداردهی می‌کنیم

29
00:03:20,500 --> 00:03:27,500
‫خب، اجازه دهید این دایرکتیو را به صفحه EditProfile اضافه کنیم. 
‫این صفحه را هنوز به

30
00:03:27,500 --> 00:03:35,500
‫به یک صفحه route شده تغییر نداده ایم. خب اجازه دهد
‫آن را در عمل آزمایش کنیم.

31
00:03:35,500 --> 00:03:43,500
‫آدرس ایمیل مان را وارد می‌کنیم، بفرمائید. به خوبی کار می‌کند.

32
00:03:43,500 --> 00:03:48,500
‫اگر این عنصر را inspect کنیم، همانطور که مشاهده می‌کنید در واقع یک
‫تگ image ساده می‌باشد.

33
00:03:48,500 --> 00:03:56,500
‫تگ gravatar را جایگزین کرده است و سورس ما به آدرسی که
‫توسط متد gravatarUrlBuilder تولید شده، تغییر کرده است.

34
00:03:56,500 --> 00:04:05,500
‫همچنین، با اینکار شما می‌توانید از attributes پاس داده شده به تابع link

35
00:04:05,500 --> 00:04:10,500
‫برای مشاهده تغییرات attributes و واکنش به آنها و همچنین
‫اختصاص مقادیر جدید به آنها استفاده کنید.

36
00:04:10,500 --> 00:04:15,500
‫البته کارهای دیگری را نیز می‌توانید انجام دهید. به عنوان مثال
‫می‌توانستید به روش‌های مختلفی DOM را دستکاری کنید

37
00:04:15,500 --> 00:04:22,500
‫اما این روش خیلی رایج‌تر می‌باشد

