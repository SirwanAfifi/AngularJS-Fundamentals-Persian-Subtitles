1
00:00:02,000 --> 00:00:05,000
‫قبل از اینکه تست‌های E2E را اجرا کنیم می‌بایست Karma را پیکربندی کنیم.

2
00:00:05,000 --> 00:00:08,000
‫این پیکربندی پیش‌فرضی است که همراه با Angular Seed ارائه شده است.

3
00:00:08,000 --> 00:00:13,000
‫این تنظیمات خیلی شبیه به پیکربندی است که می‌خواهیم برای اجرای
‫آزمون‌های end-to-end انجام دهیم.

4
00:00:13,000 --> 00:00:16,000
‫اما دو تغییر را باید انجام دهیم.

5
00:00:16,000 --> 00:00:20,000
‫اول اینکه تغییر singleRun به false است.

6
00:00:20,000 --> 00:00:23,000
‫زیرا اگر به true تنظیم می‌شود. هر وقت Karma را از طریق خط فرمان
‫اجرا کنم

7
00:00:23,000 --> 00:00:26,000
‫تست‌های end-to-end من را اجرا کرده و سپس خارج میشود.

8
00:00:26,000 --> 00:00:32,000
‫اینکار را نمیخواهم انجام دهد. می‌خواهم همیشه در حال اجرا باشد. 
‫تنظیم بعدی proxies است. این یکی خیلی مهم است.

9
00:00:32,000 --> 00:00:35,000
‫این تنظیم باعث میشود تا هر وقت به آدرسی که با یک اسلش شروع شد
‫هدایت شدم

10
00:00:35,000 --> 00:00:41,000
‫به http: //localhost: 8000 هدایت شود

11
00:00:41,000 --> 00:00:47,000
‫با این تغییر به درستی تنظیمات را برای تست‌های end-to-end انجام دادیم.

12
00:00:47,000 --> 00:00:52,000
‫برای اجرای تست‌های end-to-end می‌توانستم از WebStorm استفاده کنم،

13
00:00:52,000 --> 00:00:54,000
‫اما اینکار را از طریق خط فرمان انجام میدهم.

14
00:00:54,000 --> 00:00:58,000
‫زیرا به سه دستور برای اجرای تست‌ها نیاز دارم

15
00:00:58,000 --> 00:01:03,000
‫اجرای برنامه، اجرای سرور Karma

16
00:01:03,000 --> 00:01:08,000
‫اجرای تست‌ها در مواقع لزوم.

17
00:01:08,000 --> 00:01:12,000
‫بنابراین برای این مثال اجرای این سه terminal windowها در کنار هم ساده‌تر است.

18
00:01:12,000 --> 00:01:17,000
‫زمانیکه تست‌ها را اجرا می‌کنید، ممکن است تصور کنید که اینکار
‫از طریق WebStorm راحتر است.

19
00:01:17,000 --> 00:01:21,000
‫خب درون ترمینال سرور را تنظیم می‌کنیم.

20
00:01:21,000 --> 00:01:24,000
‫سپس در تب بعدی Karma را تنظیم می‌کنیم

21
00:01:24,000 --> 00:01:33,000
‫اینکار را با اجرای دستور e2e-test. sh درون دایرکتوری scripts انجام میدهم.

22
00:01:33,000 --> 00:01:38,000
‫خب همانطور که مشاهده میکنید Karma استارت شده است. اکنون
‫در پنجره سوم در واقع تست‌های

23
00:01:38,000 --> 00:01:46,000
‫end-to-endم را اجرا میکنم، خب، برای اجرای تست‌ها دستور karma run
‫را تایپ میکنم.

24
00:01:46,000 --> 00:01:52,000
‫خواهید دید که تست‌های end-to-end اجرا شده‌اند.

25
00:01:52,000 --> 00:01:56,000
‫دلیل پاس شدن این تست این است که تستی که نوشتم
‫کار خاصی را انجام نمیدهد.

26
00:01:56,000 --> 00:02:01,000
‫خب در قسمت بعدی تعدادی تست end-to-end را خواهیم نوشت.

