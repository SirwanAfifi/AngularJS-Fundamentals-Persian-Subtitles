1
00:00:00,310 --> 00:00:05,000
‫خب، اجازه دهید نگاهی به سرویس location بیندازیم. برای اینکار به جای
‫استفاده از تگ a جهت رفتن به صفحات دیگر،

2
00:00:05,000 --> 00:00:11,000
‫از سرویس location در داخل کدمان استفاده می‌کنیم.

3
00:00:11,000 --> 00:00:21,000
‫خب مقصد را به # تعیین می‌کنیم سپس می‌خواهیم از ng-Click برای فراخوانی
‫createEvent در داخل کنترلر استفاده کنیم.

4
00:00:21,000 --> 00:00:26,000
‫اما این صفحه index است و کنترلری ندارد.

5
00:00:26,000 --> 00:00:31,000
‫برای کل این صفحه به کنترلر نیازی نداریم. اجازه دهید تنها برای منوی اصلی یک
‫کنترلر ایجاد کنیم.

6
00:00:31,000 --> 00:00:41,000
‫خب، یک کنترلر با نام MainMenuController ایجاد خواهیم کرد. 
‫همچنین باید ارجاعی به آن در اینجا داشته باشیم سپس باید یک کنترلر ایجاد کنیم

7
00:00:41,000 --> 00:00:50,000
‫خب اجازه دهید اینکار را انجام دهیم.

8
00:00:50,000 --> 00:00:55,000
‫طبق معمول این کنترلر باید یک scope و یک سرویس location را از ورودی بگیرد.

9
00:00:55,000 --> 00:01:04,000
‫خب، این کنترلر ما است و به یک متد با نام createEvent نیاز خواهیم داشت.

10
00:01:04,000 --> 00:01:14,000
‫خب، اجازه دهید آن را ایجاد کنیم. خب اکنون وقتی بر روی
‫لینک Create Event کلیک می‌کنیم

11
00:01:14,000 --> 00:01:21,000
‫قرار است متد createEvent را در کنترلر فراخوانی کند و آن
‫نیز location. url را فراخوانی میکند

12
00:01:21,000 --> 00:01:28,000
‫و مقدار /newEvent را به آن پاس خواهد داد، که routeی را که ایجاد
‫کردیم را برای صفحه ‫New Event تطبیق خواهد داد.

13
00:01:28,000 --> 00:01:32,000
‫اجازه دهید صفحه را ریفرش کنیم.

14
00:01:32,000 --> 00:01:39,000
‫اکنون، اگر بر روی Create Event کلیک کنم هنوز کار میکند. 
‫در نتیجه من را به صفحه Event هدایت میکند.

15
00:01:39,000 --> 00:01:47,000
‫نکاتی دیگری در رابطه با سرویس location وجود دارند

16
00:01:47,000 --> 00:01:53,000
‫خب اطلاعات زیادی در مورد location فعلی و یا آدرس فعلی
‫در شیء location قرار دارد

17
00:01:53,000 --> 00:02:12,000
‫که می‌توانید خروجی هر کدام را مشاهده کنید.

18
00:02:12,000 --> 00:02:20,000
‫خب، اطلاعات زیادی را می‌توانید از این شیء دریافت کنید،
‫اطلاعات زیادی در رابطه با

19
00:02:20,000 --> 00:02:27,000
‫قسمت‌های مختلف یک URL. به جای انجام اینکار در متد
‫createEvent اجازه دهید

20
00:02:27,000 --> 00:02:32,000
‫در جای دیگری اینکار را انجام دهیم، وقتی منوی اصلی نمایان شود
‫آن نیز نمایش داده می‌شود.

21
00:02:32,000 --> 00:02:41,000
‫خب، صفحه را ریفرش می‌کنیم. مهم نیست در چه صفحه ایی هستید.

22
00:02:41,000 --> 00:02:47,000
‫خب، دقت داشته باشید که آدرس مطلق به صورت کلی است یک آدرس URL کامل.

23
00:02:47,000 --> 00:02:54,000
‫پروتکل نیز یقیناً http است. اگر آن را به https تغییر داده بودم اینجا نمایش داده خواهد شد.

24
00:02:54,000 --> 00:03:00,000
‫Port نیز پورتی است که به آن دسترسی داریم. Host نیز نام هاست می‌باشد.

25
00:03:00,000 --> 00:03:07,000
‫Path نیز بعد از نام هاست و پورت می‌آید، اجازه دهید مقادیری را اینجا اضافه کنم

26
00:03:07,000 --> 00:03:15,000
‫خب، مواردی را به query string اضافه میکنم

27
00:03:15,000 --> 00:03:28,000
‫خب، به نظر می‌رسد موردی را اشتباه تایپ کرده ام

28
00:03:28,000 --> 00:03:35,000
‫آن را اصلاح میکنم. این باید hash باشد.

29
00:03:35,000 --> 00:03:44,000
‫صفحه را ریفرش می‌کنیم. دقت داشته باشید که path اکنون
‫/newEvent است حتی اگرچه مقادیری بیشتری در URL موجود است.

30
00:03:44,000 --> 00:03:51,000
‫خب، این کلاً بعد از port است، که شامل رشته search نمی‌باشد.

31
00:03:51,000 --> 00:03:58,000
‫Search تنها یک قسمت از query string است

32
00:03:58,000 --> 00:04:04,000
‫جالب اینکه آن را به پراپرتی هایی همراه با مقادیر آنها تقسیم کرده است.

33
00:04:04,000 --> 00:04:08,000
‫و hash هر چیزی بعد از علامت # را نشان میدهد.

34
00:04:08,000 --> 00:04:15,000
‫سپس url را داریم، بنابراین هر چیزی بعد از port در این قسمت قرار دارد.

35
00:04:15,000 --> 00:04:22,000
‫خب، اطلاعات مفیدی در URL وجود دارد که می‌توانیم با استفاده از شیء
‫location به آنها دسترسی داشته باشیم.

36
00:04:22,000 --> 00:04:29,000
‫اکنون، مورد آخر اینکه درمورد این چهار پراپرتی آخر باید بدانید این است که

37
00:04:29,000 --> 00:04:37,000
‫همگی متدهایی به صورت read/write هستند
‫یعنی هم getter و هم setter هستند
‫در نتیجه می‌توانید مقادیری را به آنها پاس دهید.

38
00:04:37,000 --> 00:04:47,000
‫مابقیه آنها getter هستند در نتیجه می‌توانید تنها قسمتی از URL را جایگزین کنید.

39
00:04:47,000 --> 00:04:54,000
‫یک مورد دیگر در مورد سرویس location متد replace می‌باشد.

40
00:04:54,000 --> 00:05:06,000
‫خب، اگر صفحه را در تب جدیدی باز کنم در این حالت هیچ history نداریم.

41
00:05:06,000 --> 00:05:15,000
‫اکنون همانطور که مشاهده می‌کنید New Tab تنها history ما است و اگر بر روی
‫Create Event کلیک کنم، دقت داشته باشید که

42
00:05:15,000 --> 00:05:18,000
‫موردی در history ما وجود دارد و آن صفحه ایی است که از آن آمده ایم.

43
00:05:18,000 --> 00:05:27,000
‫اما، اگر از location. replace استفاده کنم و سپس به صفحه برگردم

44
00:05:27,000 --> 00:05:40,000
‫به صفحه event‌ها برم، اما در یک تب جدید اینکار را انجام میدم.

45
00:05:40,000 --> 00:05:49,000
‫بنابراین دقت داشته باشید که هیچ history نداریم و اگر بر روی Create Event
‫کلیک کنم هنوز هم هیچ history نداریم.

46
00:05:49,000 --> 00:05:56,000
‫زیرا replace اصولاً می‌گوید که صفحه جاری را جایگزین کن.

47
00:05:56,000 --> 00:06:05,000
‫خب این روشی برای سوییچ کردن به یک ویو دیگر بدون افزودن هیچ history می‌باشد.

48
00:06:05,000 --> 00:06:09,000
‫که به خوبی سرویس location را پوشش میدهد.

49
00:06:09,000 --> 00:06:12,000
‫خب یک تست نهایی برای این بخش.

50
00:06:12,000 --> 00:06:25,000
‫چه پراپرتی ای به شما امکان ایجاد تاخیر برای بارگذاری یک ویو تا زمان پایان یافتن
‫یک وظیفه مانند بارگذاری داده‌ها را میدهند؟

51
00:06:25,000 --> 00:06:29,000
‫پراپرتی resolve

52
00:06:33,000 --> 00:06:39,000
‫چگونه به یک ویو جدید می‌توان کاربر را هدایت کرد؟

53
00:06:39,000 --> 00:06:46,000
‫با استفاده از location. url و پاس دادن یک route جدیدی که می‌خواهید با آن منتقل شوید.

54
00:06:46,000 --> 00:06:55,000
‫نحوه دسترسی به پارامترهای query string به چه صورتی است؟

55
00:06:55,000 --> 00:07:00,000
‫با استفاده از $location. search که پارامترهای query string را به عنوان یک شیء
‫بر میگرداند،

56
00:07:00,000 --> 00:07:05,000
‫به عنوان پارامترهای search نیز می‌باشد.

